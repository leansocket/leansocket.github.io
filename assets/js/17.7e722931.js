(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{373:function(t,e,a){"use strict";a.r(e);var r=a(45),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http"}},[t._v("#")]),t._v(" HTTP")]),t._v(" "),a("h2",{attrs:{id:"functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functions"}},[t._v("#")]),t._v(" Functions")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"#isHttps"}},[t._v("isHttps()")])]),t._v(" "),a("p",[t._v("判断url是否是https")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#combineUrlAndParams"}},[t._v("combineUrlAndParams()")])]),t._v(" "),a("p",[t._v("将data对象的数据以key=value的方式合并到url之后，并返回合并之后的url。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#sign"}},[t._v("sign(data, secret)")]),t._v(" ⇒ "),a("code",[t._v("string")])]),t._v(" "),a("p",[t._v("对http请求数据签名，内部采用MD5算法生成签名指纹。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#getRequestOptions"}},[t._v("getRequestOptions()")])]),t._v(" "),a("p",[t._v("将url解析成通用的请求选项参数。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#request"}},[t._v("request()")])]),t._v(" "),a("p",[t._v("发起一次HTTP请求")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#get"}},[t._v("get()")])]),t._v(" "),a("p",[t._v("发起一次HTTP的GET请求。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#post"}},[t._v("post()")])]),t._v(" "),a("p",[t._v("发起一次HTTP的POST请求。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#call"}},[t._v("call()")])]),t._v(" "),a("p",[t._v("调用一次HTTP接口。HTTP接口统一采用POST方式进行通讯。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#makeRPC"}},[t._v("makeRPC()")])]),t._v(" "),a("p",[t._v("定义一组以base地址开头的接口列表，返回接口对象。接口对象会被转换成驼峰命名。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#rpc"}},[t._v("rpc()")])]),t._v(" "),a("p",[t._v("定义一组以base地址开头的接口列表，返回接口对象。接口对象会被转换成驼峰命名。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#setup"}},[t._v("setup(proxyServer, proxyOptions)")])]),t._v(" "),a("p",[t._v("Sets up an "),a("code",[t._v("http.Server")]),t._v(" or "),a("code",[t._v("https.Server")]),t._v(' instance with the necessary "request" and "connect" event listeners in order to make the server act as an HTTP proxy.')])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#eachHeader"}},[t._v("eachHeader()")])]),t._v(" "),a("p",[t._v('Iterator function for the request/response\'s "headers". Invokes '),a("code",[t._v("fn")]),t._v(' for "each" header entry in the request.')])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onrequest"}},[t._v("onrequest()")])]),t._v(" "),a("p",[t._v("HTTP GET/POST/DELETE/PUT, etc. proxy requests.")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#onconnect"}},[t._v("onconnect()")])]),t._v(" "),a("p",[t._v("HTTP CONNECT proxy requests.")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#authenticate"}},[t._v("authenticate(server, req, fn)")])]),t._v(" "),a("p",[t._v("Checks "),a("code",[t._v("Proxy-Authorization")]),t._v(" request headers. Same logic applied to CONNECT requests as well as regular HTTP requests.")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#requestAuthorization"}},[t._v("requestAuthorization()")])]),t._v(" "),a("p",[t._v('Sends a "407 Proxy Authentication Required" HTTP response to the '),a("code",[t._v("socket")]),t._v(".")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#webapp"}},[t._v("webapp()")])]),t._v(" "),a("p",[t._v("创建一个基于koa2的web应用。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#body"}},[t._v("body()")])]),t._v(" "),a("p",[t._v("创建一个body解析器中间件，详细选项设置请参考body模块。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#send"}},[t._v("send()")])]),t._v(" "),a("p",[t._v("发送http响应")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#sendFile"}},[t._v("sendFile()")])]),t._v(" "),a("p",[t._v("发送响应文件。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#handler"}},[t._v("handler()")])]),t._v(" "),a("p",[t._v("将func函数包装成一个中间件")])])]),t._v(" "),a("p",[a("a",{attrs:{name:"isHttps"}})]),t._v(" "),a("h2",{attrs:{id:"ishttps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ishttps"}},[t._v("#")]),t._v(" isHttps()")]),t._v(" "),a("p",[t._v("判断url是否是https")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"combineUrlAndParams"}})]),t._v(" "),a("h2",{attrs:{id:"combineurlandparams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#combineurlandparams"}},[t._v("#")]),t._v(" combineUrlAndParams()")]),t._v(" "),a("p",[t._v("将data对象的数据以key=value的方式合并到url之后，并返回合并之后的url。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"sign"}})]),t._v(" "),a("h2",{attrs:{id:"sign-data-secret-⇒-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sign-data-secret-⇒-string"}},[t._v("#")]),t._v(" sign(data, secret) ⇒ "),a("code",[t._v("string")])]),t._v(" "),a("p",[t._v("对http请求数据签名，内部采用MD5算法生成签名指纹。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("strong",[t._v("Returns")]),t._v(": "),a("code",[t._v("string")]),t._v(" - 签名指纹")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Param")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("data")]),t._v(" "),a("td",[a("code",[t._v("object")])]),t._v(" "),a("td",[t._v("用于签名的http请求数据。")])]),t._v(" "),a("tr",[a("td",[t._v("secret")]),t._v(" "),a("td",[a("code",[t._v("string")])]),t._v(" "),a("td",[t._v("用于签名的密钥。")])])])]),t._v(" "),a("p",[a("a",{attrs:{name:"getRequestOptions"}})]),t._v(" "),a("h2",{attrs:{id:"getrequestoptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getrequestoptions"}},[t._v("#")]),t._v(" getRequestOptions()")]),t._v(" "),a("p",[t._v("将url解析成通用的请求选项参数。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"request"}})]),t._v(" "),a("h2",{attrs:{id:"request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" request()")]),t._v(" "),a("p",[t._v("发起一次HTTP请求")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"get"}})]),t._v(" "),a("h2",{attrs:{id:"get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" get()")]),t._v(" "),a("p",[t._v("发起一次HTTP的GET请求。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"post"}})]),t._v(" "),a("h2",{attrs:{id:"post"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" post()")]),t._v(" "),a("p",[t._v("发起一次HTTP的POST请求。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"call"}})]),t._v(" "),a("h2",{attrs:{id:"call"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#call"}},[t._v("#")]),t._v(" call()")]),t._v(" "),a("p",[t._v("调用一次HTTP接口。HTTP接口统一采用POST方式进行通讯。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"makeRPC"}})]),t._v(" "),a("h2",{attrs:{id:"makerpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#makerpc"}},[t._v("#")]),t._v(" makeRPC()")]),t._v(" "),a("p",[t._v("定义一组以base地址开头的接口列表，返回接口对象。接口对象会被转换成驼峰命名。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"rpc"}})]),t._v(" "),a("h2",{attrs:{id:"rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc"}},[t._v("#")]),t._v(" rpc()")]),t._v(" "),a("p",[t._v("定义一组以base地址开头的接口列表，返回接口对象。接口对象会被转换成驼峰命名。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"setup"}})]),t._v(" "),a("h2",{attrs:{id:"setup-proxyserver-proxyoptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-proxyserver-proxyoptions"}},[t._v("#")]),t._v(" setup(proxyServer, proxyOptions)")]),t._v(" "),a("p",[t._v("Sets up an "),a("code",[t._v("http.Server")]),t._v(" or "),a("code",[t._v("https.Server")]),t._v(' instance with the necessary "request" and "connect" event listeners in order to make the server act as an HTTP proxy.')]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("strong",[t._v("Api")]),t._v(": public")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Param")]),t._v(" "),a("th",[t._v("Type")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("proxyServer")]),t._v(" "),a("td",[a("code",[t._v("http.Server")])])]),t._v(" "),a("tr",[a("td",[t._v("proxyOptions")]),t._v(" "),a("td",[a("code",[t._v("Object")])])])])]),t._v(" "),a("p",[a("a",{attrs:{name:"eachHeader"}})]),t._v(" "),a("h2",{attrs:{id:"eachheader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eachheader"}},[t._v("#")]),t._v(" eachHeader()")]),t._v(" "),a("p",[t._v('Iterator function for the request/response\'s "headers". Invokes '),a("code",[t._v("fn")]),t._v(' for "each" header entry in the request.')]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("strong",[t._v("Api")]),t._v(": private   "),a("a",{attrs:{name:"onrequest"}})]),t._v(" "),a("h2",{attrs:{id:"onrequest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onrequest"}},[t._v("#")]),t._v(" onrequest()")]),t._v(" "),a("p",[t._v("HTTP GET/POST/DELETE/PUT, etc. proxy requests.")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"onconnect"}})]),t._v(" "),a("h2",{attrs:{id:"onconnect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onconnect"}},[t._v("#")]),t._v(" onconnect()")]),t._v(" "),a("p",[t._v("HTTP CONNECT proxy requests.")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"authenticate"}})]),t._v(" "),a("h2",{attrs:{id:"authenticate-server-req-fn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authenticate-server-req-fn"}},[t._v("#")]),t._v(" authenticate(server, req, fn)")]),t._v(" "),a("p",[t._v("Checks "),a("code",[t._v("Proxy-Authorization")]),t._v(" request headers. Same logic applied to CONNECT requests as well as regular HTTP requests.")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("strong",[t._v("Api")]),t._v(": private")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Param")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("server")]),t._v(" "),a("td",[a("code",[t._v("http.Server")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("req")]),t._v(" "),a("td",[a("code",[t._v("http.ServerRequest")])]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("fn")]),t._v(" "),a("td",[a("code",[t._v("function")])]),t._v(" "),a("td",[t._v("callback function")])])])]),t._v(" "),a("p",[a("a",{attrs:{name:"requestAuthorization"}})]),t._v(" "),a("h2",{attrs:{id:"requestauthorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requestauthorization"}},[t._v("#")]),t._v(" requestAuthorization()")]),t._v(" "),a("p",[t._v('Sends a "407 Proxy Authentication Required" HTTP response to the '),a("code",[t._v("socket")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("strong",[t._v("Api")]),t._v(": private   "),a("a",{attrs:{name:"webapp"}})]),t._v(" "),a("h2",{attrs:{id:"webapp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webapp"}},[t._v("#")]),t._v(" webapp()")]),t._v(" "),a("p",[t._v("创建一个基于koa2的web应用。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"body"}})]),t._v(" "),a("h2",{attrs:{id:"body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#body"}},[t._v("#")]),t._v(" body()")]),t._v(" "),a("p",[t._v("创建一个body解析器中间件，详细选项设置请参考body模块。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"send"}})]),t._v(" "),a("h2",{attrs:{id:"send"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send"}},[t._v("#")]),t._v(" send()")]),t._v(" "),a("p",[t._v("发送http响应")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"sendFile"}})]),t._v(" "),a("h2",{attrs:{id:"sendfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sendfile"}},[t._v("#")]),t._v(" sendFile()")]),t._v(" "),a("p",[t._v("发送响应文件。")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function   "),a("a",{attrs:{name:"handler"}})]),t._v(" "),a("h2",{attrs:{id:"handler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handler"}},[t._v("#")]),t._v(" handler()")]),t._v(" "),a("p",[t._v("将func函数包装成一个中间件")]),t._v(" "),a("p",[a("strong",[t._v("Kind")]),t._v(": global function")])])}),[],!1,null,null,null);e.default=s.exports}}]);